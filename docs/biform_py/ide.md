# biForm 和 Python 其它 IDE 的对比

这篇文章介绍在 biForm 中是如何使用 Python 的，与其它IDE有什么不一样的地方。

## 常用的 Python 开发工具

我们经常用来编写 Python 程序的工具，有几种：

- Python 自带的IDLE
- VS Code、Eclipse、PyCharm 等IDE
- gedit、VIM等文本编辑器

它们统一的特点就是：开发过程就是编写python代码，其它功能也都是围绕这个功能服务的。开发完成的代码以 .py 文件保存，通过执行这些 .py 文件来运行程序。

如果我们要开发带图形界面的 Python 程序，我们通常会使用 PyQt、tkinter、wxWidgets 等库，但开发过程还是通过上面那些IDE进行代码编写。IDE并没有为使用这些库中的控件提供“所见即所得”的界面开发工具。

## biForm 是什么样的IDE？

biForm 也是一款IDE，但设计的目标和以上IDE并不相同。它并不是一个单纯用来编写 .py 代码的工具，它其实是一个**桌面应用框架**的开发工具。这个桌面应用框架的核心设计思想是“一切皆是表单”和“用户处组装”。这些表单既相互独立，可独立运行，又可相互作用进行整合。在PFF运行时引擎的组织和协调下，在最终用户处按需组合，从而组合形成一个完整复杂的应用程序。

在这个框架中，运行的程序使用的图形库是基于Qt的，内嵌的 Python 脚本通过调用 Qt 库和 Python 第三方库对程序加以控制。当然，也是可以通过 Python 脚本调用 PyQt、tkinter和 wxWidgets这些图形库的，但以这些 Python 图形库创建的控件并不能和Qt控件很好地结合在一起，风格差异也较大，所以一般并不推荐开发者这样做。如果一定要用的话，最好也只做为辅助使用，比如在某个弹出对话框里使用 tk 库。

biForm 中有可视化界面设计器用于设计程序的图形化界面，还有“数据视图”设计器用于定义后台数据库的表结构和表间关系，也可以直接通过脚本使用 Qt 库创建程序界面。

用biForm开发完成的程序，以PFF文件格式发布，由运行时引擎提供运行时环境。目前已经发布的通用的运行时环境是 biReader ，它也是用 Qt 开发的。未来，开发者也可以申请购买PFF的运行时引擎库PFFEngine，按自己的需要开发包含PFF运行时环境的其它应用程序，比如最近我们就用这种方式开发了一套用于嵌入式开发的IDE，PFF文件做为这个IDE的插件为它提供核心功能及强大的可扩展性。

## 使用PFF的程序架构上有什么不同？

一个复杂的应用程序通常有多个功能组合形成，使用PFF的应用程序的最大的特点是，多个表单共用一套运行时环境组合成完整复杂的应用程序，而这种组合是松散的、容易扩展的，而不象传统的“铁板一块”式的应用程序。

当然有些应用程序通过插件来获得扩展性，但PFF与我们经常听到的“插件”并不完全相同。一般插件只是用来对应用程序的功能进行补充，应用程序主体已经是完整的应用了。但PFF的运行时环境比如 biReader 本身没有什么具体的功能，只有安装了一些PFF之后，它才有了具体的有针对性的功能。PFF和biReader的关系更类似于HTML和浏览器之间的关系，但我们并不会将HTML称为浏览器的“插件”。

一个应用的多个功能之间必定会有很多关联关系，比如共享数据、互相调用，通常这些都需要程序员编写程序来完成，而不同功能的源代码需要一起编译或打包才能完成这种组合。这种传统的应用程序可以称之为“开发者通过编程进行组装”。但PFF使用的是“用户处无编码组装”方式，每个PFF可以由不同的程序员单独开发和发布，在用户使用时才真正完成组装。

“用户处组装”带来的好处是应用的模块之间有更松的耦合关系，在功能上更具个性化、更具扩展性。用户可以选择自己需要的那些PFF文件，自己进行组合。组合过程并不需要用户掌握组装的技术性问题，而且用户可以定制自己喜欢的组合，而不是受到开发者的限制，可以很好地实现应用的通用化和个性化之间的平衡。

## 程序发布上有什么不一样？

一般Python的IDE发布的程序都是 .py 文件格式储存。如果用户有兼容版本的 Python 环境，可以直接将这些 .py 文件发给用户使用，当然也可以使用一些工具将程序及依赖的文件一起打包以解决运行时环境依赖的问题。

biForm开发的程序都以PFF文件格式发布，最终用户处安装运行时环境（比如 biReader )后，打开这些PFF文件就可以运行使用。同版本或兼容版本的 biReader 提供与 biForm 一致的运行环境，一般不需要额外解决依赖问题。

PFF可以单个文件单独发布，也可以多个文件打包成PFP文件一起发布，以简化用户操作。

## 总结一下

1. biForm 不是用于编辑 .py 文件的编辑器，开发完的程序也不是以 .py 文件形式存在的，也不是通过执行 .py 文件来启动程序的

2. biForm 有自己的一套应用框架，它是为这种**桌面应用框架**提供的开发工具。PFF的开发方式和发布方式都是由这种应用框架决定的，也是最终为这种应用框架服务的。

